# 3D Viewer å¤šæ¡†æ¶é‡æ„é¡¹ç›®æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

å°†3D Panorama Vieweré‡æ„ä¸ºä¼ä¸šçº§å¤šæ¡†æ¶åº“,æ”¯æŒ7ä¸ªä¸»æµå‰ç«¯æ¡†æ¶,ç»Ÿä¸€ä½¿ç”¨@ldesign/builderæ„å»ºç³»ç»Ÿ,å®Œæ•´çš„TypeScriptæ”¯æŒ,é›¶ESLinté”™è¯¯,å…¨é¢æµ‹è¯•è¦†ç›–ã€‚

## âœ… å·²å®Œæˆå·¥ä½œ (40%)

### 1. é¡¹ç›®æ¶æ„è®¾è®¡ âœ…
- âœ… åˆ†æç°æœ‰ä»£ç åº“,è¯†åˆ«ä¼˜åŒ–æœºä¼š
- âœ… è®¾è®¡monorepoæ¶æ„
- âœ… è§„åˆ’åŒ…å‘½åçº¦å®šå’Œä¾èµ–å…³ç³»
- âœ… ç¡®å®šæŠ€æœ¯æ ˆå’Œå·¥å…·é“¾

### 2. æ ¸å¿ƒåŸºç¡€è®¾æ–½ âœ…
- âœ… åˆ›å»ºtsconfig.base.jsonå…±äº«é…ç½®
- âœ… åˆ›å»ºæ ¹eslint.config.jsé…ç½®
- âœ… è§„åˆ’workspaceç»“æ„
- âœ… æ–‡æ¡£æ¡†æ¶æ­å»º

### 3. AngularåŒ… (@ldesign/3d-viewer-angular) âœ…
å®Œæ•´çš„Angular 16+æ”¯æŒ,é‡‡ç”¨standaloneç»„ä»¶:
- âœ… package.jsoné…ç½®
- âœ… PanoramaViewerComponentå®ç°
- âœ… å®Œæ•´çš„Input/Outputå±æ€§
- âœ… ç”Ÿå‘½å‘¨æœŸç®¡ç†(ngOnInit/ngOnDestroy)
- âœ… Builderé…ç½®(.ldesign/builder.config.ts)
- âœ… TypeScripté…ç½®
- âœ… ESLinté…ç½®

**åŠŸèƒ½ç‰¹æ€§:**
- Standaloneç»„ä»¶,æ— éœ€NgModule
- å®Œæ•´çš„Angularå“åº”å¼æ”¯æŒ
- EventEmitteräº‹ä»¶ç³»ç»Ÿ
- ViewChildæ¨¡æ¿å¼•ç”¨
- å®Œæ•´çš„å…¬å…±APIæ–¹æ³•

### 4. Solid.jsåŒ… (@ldesign/3d-viewer-solid) âœ…
é«˜æ€§èƒ½çš„Solid.jså“åº”å¼å®ç°:
- âœ… package.jsoné…ç½®
- âœ… PanoramaViewerç»„ä»¶(å“åº”å¼)
- âœ… usePanoramaViewer hook
- âœ… createPanoramaViewerå·¥å…·å‡½æ•°
- âœ… Builderé…ç½®
- âœ… å®Œæ•´çš„ç±»å‹å®šä¹‰

**åŠŸèƒ½ç‰¹æ€§:**
- ç»†ç²’åº¦å“åº”å¼æ›´æ–°
- è‡ªåŠ¨æ¸…ç†æœºåˆ¶(onCleanup)
- Signal-basedçŠ¶æ€ç®¡ç†
- ç±»å‹å®‰å…¨çš„API

### 5. SvelteåŒ… (@ldesign/3d-viewer-svelte) âœ…
ä¼˜é›…çš„Svelte 4/5æ”¯æŒ:
- âœ… package.jsoné…ç½®
- âœ… PanoramaViewer.svelteç»„ä»¶
- âœ… å“åº”å¼hotspotç®¡ç†($: reactive statements)
- âœ… æš´éœ²å…¬å…±æ–¹æ³•(export function)
- âœ… Builderé…ç½®
- âœ… Scopedæ ·å¼

**åŠŸèƒ½ç‰¹æ€§:**
- Svelteå“åº”å¼è¯­æ³•
- bind:thiså…ƒç´ å¼•ç”¨
- onMount/onDestroyç”Ÿå‘½å‘¨æœŸ
- åŒå‘æ•°æ®ç»‘å®š

### 6. QwikåŒ… (@ldesign/3d-viewer-qwik) âœ…
ç°ä»£åŒ–çš„Qwikå¯æ¢å¤æ€§å®ç°:
- âœ… package.jsoné…ç½®
- âœ… component$ç»„ä»¶å®ç°
- âœ… usePanoramaViewer hook (QRL)
- âœ… æ­£ç¡®çš„åºåˆ—åŒ–å¤„ç†(noSerialize)
- âœ… useVisibleTask$ç”Ÿå‘½å‘¨æœŸ
- âœ… Builderé…ç½®

**åŠŸèƒ½ç‰¹æ€§:**
- å¯æ¢å¤æ€§(Resumability)
- QRLå¼‚æ­¥å‡½æ•°
- æ‡’åŠ è½½ä¼˜åŒ–
- æœåŠ¡ç«¯å‹å¥½

### 7. æ–‡æ¡£åˆ›å»º âœ…
- âœ… REFACTORING_STATUS.md - é¡¹ç›®çŠ¶æ€è¿½è¸ª
- âœ… BUILD_GUIDE.md - å®Œæ•´æ„å»ºæŒ‡å—
- âœ… QUICK_START_ALL_FRAMEWORKS.md - æ‰€æœ‰æ¡†æ¶å¿«é€Ÿå¼€å§‹
- âœ… PROJECT_SUMMARY.md - é¡¹ç›®æ€»ç»“(å½“å‰æ–‡æ¡£)

## ğŸ“¦ åŒ…ç»“æ„

```
packages/
â”œâ”€â”€ core/          # @panorama-viewer/core (å·²æœ‰)
â”œâ”€â”€ vue/           # @ldesign/3d-viewer-vue (éœ€æ›´æ–°)
â”œâ”€â”€ react/         # @ldesign/3d-viewer-react (éœ€æ›´æ–°)
â”œâ”€â”€ angular/       # @ldesign/3d-viewer-angular âœ… æ–°å»º
â”œâ”€â”€ solid/         # @ldesign/3d-viewer-solid âœ… æ–°å»º
â”œâ”€â”€ svelte/        # @ldesign/3d-viewer-svelte âœ… æ–°å»º
â”œâ”€â”€ qwik/          # @ldesign/3d-viewer-qwik âœ… æ–°å»º
â””â”€â”€ lit/           # @ldesign/3d-viewer-lit (éœ€æ›´æ–°)
```

## ğŸš§ å¾…å®Œæˆä»»åŠ¡ (60%)

### é«˜ä¼˜å…ˆçº§

#### 1. æ›´æ–°æ ¹é…ç½®
- [ ] æ›´æ–°æ ¹package.json workspaces
- [ ] æ·»åŠ ç»Ÿä¸€çš„æ„å»ºè„šæœ¬
- [ ] é…ç½®pnpm-workspace.yaml
- [ ] æ·»åŠ æ‰€æœ‰æ–°åŒ…çš„tsconfigå¼•ç”¨

#### 2. å®Œå–„æ–°åŒ…é…ç½®
- [ ] ä¸ºsolidåŒ…æ·»åŠ tsconfig.jsonå’Œeslint.config.js
- [ ] ä¸ºsvelteåŒ…æ·»åŠ å®Œæ•´é…ç½®æ–‡ä»¶
- [ ] ä¸ºqwikåŒ…æ·»åŠ å®Œæ•´é…ç½®æ–‡ä»¶
- [ ] ä¸ºangularåŒ…æ·»åŠ .gitignore

#### 3. æ›´æ–°ç°æœ‰åŒ…
- [ ] è¿ç§»vueåŒ…åˆ°@ldesign/builder
- [ ] è¿ç§»reactåŒ…åˆ°@ldesign/builder
- [ ] è¿ç§»litåŒ…åˆ°@ldesign/builder
- [ ] ä¸ºæ‰€æœ‰ç°æœ‰åŒ…æ·»åŠ @antfu/eslint-config

#### 4. CoreåŒ…ä¼˜åŒ–
- [ ] å®¡æŸ¥å¹¶ä¿®å¤æ‰€æœ‰TypeScriptç±»å‹é”™è¯¯
- [ ] å®Œå–„disposeæ–¹æ³•,ç¡®ä¿èµ„æºé‡Šæ”¾
- [ ] ä¼˜åŒ–å†…å­˜ç®¡ç†,é˜²æ­¢æ³„æ¼
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§hooks
- [ ] å®Œå–„äº‹ä»¶ç³»ç»Ÿç±»å‹

### ä¸­ä¼˜å…ˆçº§

#### 5. æµ‹è¯•å¥—ä»¶
æ¯ä¸ªåŒ…éœ€è¦:
- [ ] å•å…ƒæµ‹è¯•(Vitest) - ç›®æ ‡80%è¦†ç›–ç‡
- [ ] é›†æˆæµ‹è¯•
- [ ] å¯è§†åŒ–å›å½’æµ‹è¯•(Playwright/Storybook)
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å†…å­˜æ³„æ¼æ£€æµ‹æµ‹è¯•

#### 6. æ¼”ç¤ºé¡¹ç›®
ä½¿ç”¨@ldesign/launcheråˆ›å»º:
- [ ] Angularæ¼”ç¤º (Angular 17)
- [ ] Solid.jsæ¼”ç¤º
- [ ] Svelteæ¼”ç¤º
- [ ] Qwikæ¼”ç¤º
- [ ] æ›´æ–°Vueæ¼”ç¤º
- [ ] æ›´æ–°Reactæ¼”ç¤º
- [ ] æ›´æ–°Litæ¼”ç¤º

#### 7. VitePressæ–‡æ¡£ç«™ç‚¹
- [ ] åˆå§‹åŒ–VitePressé¡¹ç›®
- [ ] é¦–é¡µå’Œå¯¼èˆª
- [ ] å®‰è£…æŒ‡å—(æ‰€æœ‰æ¡†æ¶)
- [ ] APIå‚è€ƒæ–‡æ¡£
- [ ] é«˜çº§åŠŸèƒ½æŒ‡å—
- [ ] æ€§èƒ½ä¼˜åŒ–æŒ‡å—
- [ ] æœ€ä½³å®è·µ
- [ ] è¿ç§»æŒ‡å—
- [ ] ç¤ºä¾‹ä»£ç åº“
- [ ] è´¡çŒ®æŒ‡å—

### ä½ä¼˜å…ˆçº§

#### 8. CI/CD
- [ ] GitHub Actionså·¥ä½œæµ
- [ ] è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] è‡ªåŠ¨åŒ–æ„å»º
- [ ] è‡ªåŠ¨åŒ–å‘å¸ƒ
- [ ] Changesetsé›†æˆ

#### 9. é¢å¤–ä¼˜åŒ–
- [ ] Bundleå¤§å°ä¼˜åŒ–
- [ ] Tree-shakingéªŒè¯
- [ ] ä»£ç åˆ†å‰²ç­–ç•¥
- [ ] CDNéƒ¨ç½²é…ç½®
- [ ] Performance budgets

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

### 1. ç»Ÿä¸€æ„å»ºç³»ç»Ÿ
æ‰€æœ‰åŒ…ä½¿ç”¨@ldesign/builder,ç¡®ä¿:
- ä¸€è‡´çš„æ„å»ºé…ç½®
- ç»Ÿä¸€çš„è¾“å‡ºæ ¼å¼(ESM + CJS)
- è‡ªåŠ¨ç±»å‹å£°æ˜ç”Ÿæˆ
- Source mapæ”¯æŒ

### 2. æ¡†æ¶é€‚é…ç‰¹æ€§

#### Angular
- Standaloneç»„ä»¶æ¶æ„
- RxJSå“åº”å¼é›†æˆ
- è£…é¥°å™¨è¯­æ³•
- Zone.jså…¼å®¹

#### Solid.js
- ç»†ç²’åº¦å“åº”å¼
- æ— è™šæ‹ŸDOM
- æè‡´æ€§èƒ½
- ç±»React API

#### Svelte
- ç¼–è¯‘æ—¶ä¼˜åŒ–
- çœŸå®DOMæ“ä½œ
- æœ€å°runtime
- ä¼˜é›…çš„è¯­æ³•

#### Qwik
- å¯æ¢å¤æ€§(Resumability)
- é›¶æ°´åˆæˆæœ¬
- è‡ªåŠ¨æ‡’åŠ è½½
- æœåŠ¡ç«¯ä¼˜å…ˆ

### 3. TypeScriptå…¨é¢æ”¯æŒ
- 100%ç±»å‹è¦†ç›–
- æ³›å‹æ”¯æŒ
- ç±»å‹æ¨æ–­
- ä¸¥æ ¼æ¨¡å¼

### 4. ä»£ç è´¨é‡ä¿è¯
- @antfu/eslint-configç»Ÿä¸€è§„èŒƒ
- Prettieræ ¼å¼åŒ–
- Pre-commit hooks
- è‡ªåŠ¨åŒ–æ£€æŸ¥

## ğŸ“Š æ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | çŠ¶æ€ |
|-----|------|------|
| CoreåŒ…å¤§å°(gzip) | < 200KB | å¾…æµ‹è¯• |
| æ¡†æ¶åŒ…å¤§å°(gzip) | < 50KB | å¾…æµ‹è¯• |
| åˆå§‹åŒ–æ—¶é—´ | < 100ms | å¾…æµ‹è¯• |
| FPS (1080p) | â‰¥ 60fps | å¾…æµ‹è¯• |
| å†…å­˜å ç”¨(å•åœºæ™¯) | < 100MB | å¾…æµ‹è¯• |
| First Paint | < 1s | å¾…æµ‹è¯• |

## ğŸ”„ å¼€å‘æµç¨‹

### æœ¬åœ°å¼€å‘
```bash
# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºcoreåŒ…(å¿…é¡»å…ˆæ„å»º)
pnpm build:core

# å¹¶è¡Œæ„å»ºæ‰€æœ‰æ¡†æ¶åŒ…
pnpm build

# å¼€å‘æ¨¡å¼(watch)
pnpm dev

# è¿è¡Œæµ‹è¯•
pnpm test

# ä»£ç æ£€æŸ¥
pnpm lint
pnpm typecheck
```

### å‘å¸ƒæµç¨‹
```bash
# 1. ç‰ˆæœ¬æ›´æ–°
pnpm version:minor

# 2. æ„å»ºå’Œæµ‹è¯•
pnpm build
pnpm test
pnpm lint

# 3. å‘å¸ƒ
pnpm publish:all
```

## ğŸŒŸ åˆ›æ–°ç‚¹

### 1. å¤šæ¡†æ¶ç»Ÿä¸€API
æ‰€æœ‰æ¡†æ¶åŒ…æä¾›ä¸€è‡´çš„APIæ¥å£,é™ä½å­¦ä¹ æˆæœ¬ã€‚

### 2. è‡ªåŠ¨è®¾å¤‡ä¼˜åŒ–
```typescript
import { deviceCapability } from '@panorama-viewer/core'
const settings = deviceCapability.getRecommendedSettings()
```

### 3. æ¸è¿›å¢å¼º
- åŸºç¡€åŠŸèƒ½(core)
- æ¡†æ¶é€‚é…(framework wrappers)
- é«˜çº§ç‰¹æ€§(plugins)

### 4. æ€§èƒ½ä¼˜å…ˆ
- æŒ‰éœ€æ¸²æŸ“
- å¯¹è±¡æ± 
- çº¹ç†ç¼“å­˜
- Web Workeræ”¯æŒ

## ğŸ“ˆ é¡¹ç›®è¿›åº¦

```
æ€»ä½“è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%

âœ… æ¶æ„è®¾è®¡         100% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
âœ… æ–°æ¡†æ¶åŒ…         100% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
ğŸš§ é…ç½®å®Œå–„          30% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
ğŸš§ æµ‹è¯•å¥—ä»¶           0% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
ğŸš§ æ–‡æ¡£ç«™ç‚¹          20% â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
ğŸš§ æ¼”ç¤ºé¡¹ç›®           0% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
ğŸš§ CI/CDé…ç½®         0% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
```

## ğŸ“ å­¦ä¹ èµ„æº

### æ¡†æ¶æ–‡æ¡£
- [Angular](https://angular.io/)
- [Solid.js](https://www.solidjs.com/)
- [Svelte](https://svelte.dev/)
- [Qwik](https://qwik.builder.io/)

### å·¥å…·æ–‡æ¡£
- [@ldesign/builder](../../tools/builder)
- [@antfu/eslint-config](https://github.com/antfu/eslint-config)
- [Three.js](https://threejs.org/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºfeatureåˆ†æ”¯
3. æäº¤æ›´æ”¹(éµå¾ªConventional Commits)
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

MIT Â© 2025

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®:
- Three.js - 3Dæ¸²æŸ“å¼•æ“
- @ldesign/builder - æ„å»ºå·¥å…·
- @antfu/eslint-config - ä»£ç è§„èŒƒ
- æ‰€æœ‰æ¡†æ¶çš„ç»´æŠ¤è€…

---

**é¡¹ç›®çŠ¶æ€**: ğŸš§ å¼€å‘ä¸­ (40%)
**é¢„è®¡å®Œæˆ**: 2-3å‘¨
**ç»´æŠ¤è€…**: Your Team
**æœ€åæ›´æ–°**: 2025-10-28

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³è¡ŒåŠ¨** (æœ¬å‘¨)
   - å®Œå–„æ‰€æœ‰åŒ…çš„é…ç½®æ–‡ä»¶
   - æ›´æ–°æ ¹package.json
   - æµ‹è¯•æ„å»ºæµç¨‹

2. **çŸ­æœŸç›®æ ‡** (2å‘¨å†…)
   - æ·»åŠ å•å…ƒæµ‹è¯•
   - åˆ›å»ºæ¼”ç¤ºé¡¹ç›®
   - åˆå§‹åŒ–æ–‡æ¡£ç«™ç‚¹

3. **ä¸­æœŸç›®æ ‡** (1ä¸ªæœˆå†…)
   - å®Œæˆæ‰€æœ‰æµ‹è¯•
   - å®Œæˆæ–‡æ¡£
   - é…ç½®CI/CD
   - é¦–æ¬¡å‘å¸ƒ

**è®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ æœ€å¥½çš„3D Vieweråº“! ğŸŠ**
